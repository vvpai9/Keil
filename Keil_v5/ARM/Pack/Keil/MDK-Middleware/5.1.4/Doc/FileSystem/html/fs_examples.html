<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>File System Examples</title>
<title>File System Component: File System Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">File System Component
   &#160;<span id="projectnumber">Version 5.0</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for Devices with Flash File System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <li id="GEN">   <a href="../../General/html/index.html"><span>General</span></a></li>
      <li id="FS"     class="current">    <a href="../../FileSystem/html/index.html"><span>File System</span></a></li>
      <li id="GRA">   <a href="../../Graphic/html/index.html"><span>Graphic</span></a></li>
      <li id="NET">   <a href="../../Network/html/index.html"><span>Network</span></a></li>
      <li id="USB">   <a href="../../USB/html/index.html"><span>USB</span></a></li>
    </ul>
</div>
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fs_examples.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">File System Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The File System Component is used in many different applications and examples. One stand-alone example is available to demonstrate the usage of the File System. Other examples use the File System Component in conjunction with other Components (such as USB or Network for example).</p>
<ul>
<li>The <a class="el" href="fs_examples.html#fs_standalone_example">File System Example</a> shows the basic functionality of the File System.</li>
<li>The <a href="../../USB/html/dev_msc_tutorial.html" class="el" target="_blank">USB Device Mass Storage Example</a> shows how to create an USB MSC Device that will be recognized as such by an USB Host controller.</li>
<li>The <a href="../../USB/html/host_msc_tutorial.html" class="el" target="_blank">USB Host Mass Storage Example</a> explains how to use the File System to access data from an attached USB memory device.</li>
<li>The <a href="../../Network/html/_f_t_p__server__example.html" class="el" target="_blank">FTP Server Example</a> is made for getting access to the device's File System via a network connection.</li>
</ul>
<p>To use these examples, use the <a href="http://www.keil.com/support/man/docs/uv4/uv4_ca_packinstaller.htm" class="el" target="_blank">Pack Installer</a>, select the related Board or Category and Copy the example.</p>
<h1><a class="anchor" id="fs_standalone_example"></a>
File System Example</h1>
<p>This example shows how to manipulate files on a given drive using the File System Component. You can create, read, copy and delete files on any enabled drive (SD/MMC Card, NOR/NAND Flash) and format each drive. To keep it simple, the <b>Debug (printf) Viewer</b> in MDK is used to interact with the storage devices. The <a href="http://www.keil.com/support/man/docs/uv4/uv4_db_dbg_serialwin.htm" class="el" target="_blank">online help</a> explains how to connect your stdio to the <b>Debug (printf) Viewer</b> window. The following picture shows an exemplary connection of the development board and a Computer:</p>
<div class="image">
<img src="fs_setup.png" alt="fs_setup.png"/>
</div>
<p>The Abstract.txt file contained in the Documentation group of the Project window gives you more information on the general setup and the available I/O of the development board.</p>
<h1>Build the "File System" Project</h1>
<p>Open the example project in MDK (the <a href="http://www.keil.com/support/man/docs/uv4/uv4_ca_packinstaller.htm" class="el" target="_blank">Pack Installer's web page</a> explains how to do this). The µVision Project window should display a similar project structure:</p>
<div class="image">
<img src="fs_proj_structure.png" alt="fs_proj_structure.png"/>
<div class="caption">
File System Project Structure</div></div>
 <h2>Source Files</h2>
<ul>
<li><b>File_Demo.c</b> contains the main C function that initializes the board hardware and the File System Component. It also defines the functions for the accessing the data on the hardware.</li>
<li>The <b>Getline.c</b> file contains the function for getting formatted input from stdio.</li>
</ul>
<p>You may now build and download the example project to the evaluation board using the µVision commands:</p>
<ul>
<li><b>Project</b> &ndash;&gt; <b>Build</b> target</li>
<li><b>Flash</b> &ndash;&gt; <b>Download</b> </li>
</ul>
<p>After these steps, the project should start executing on your evaluation kit. In case of errors, refer to the Evaluation Board User's Guide for configuration information.</p>
<h1>Using the "File System" Project</h1>
<h2>Hardware Setup</h2>
<p>The setup of the Evaluation Board hardware is described in the <b>Abstract.txt</b> file.</p>
<ul>
<li>Verify all jumper settings on the target hardware.</li>
<li>Connect all supported devices to the development board (for example SD card).</li>
<li>You need to have a ULINK connection to the development board as the command line is sent to the <b>Debug (printf) Viewer</b> window of an active <b>Debug</b> session.</li>
</ul>
<h2>PC Software</h2>
<p>After building the program, download the code into Flash and start a <b>Debug</b> session. Open the <b>Debug (printf) Viewer</b> window and start the code execution by either pressing F5 or using the <b>Run</b> button. You should now see something similar like this:</p>
<div class="image">
<img src="fs_printf.png" alt="fs_printf.png"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 20 2014 15:12:35 for File System Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 
	-->
	</li>
  </ul>
</div>
</body>
</html>
