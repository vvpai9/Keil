<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FTP Server</title>
<title>Network Component: FTP Server</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 5.0</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <li id="GEN">	  <a href="../../General/html/index.html"><span>General</span></a></li>
      <li id="FS">    <a href="../../FileSystem/html/index.html"><span>File System</span></a></li>
      <li id="GRA">   <a href="../../Graphic/html/index.html"><span>Graphic</span></a></li>
      <li id="NET"    class="current">  <a href="../../Network/html/index.html"><span>Network</span></a></li>
      <li id="USB">   <a href="../../USB/html/index.html"><span>USB</span></a></li>
    </ul>
</div>
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('using_ftp_server.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FTP Server </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>File Transfer Protocol (FTP)</b> is a standard network protocol used to <b>exchange</b> and <b>manipulate</b> files over a TCP/IP-based network. FTP is built on a client-server architecture and utilizes separate control and data connections between the client and server applications. FTP is used with user-based password authentication or with anonymous user access.</p>
<p>FTP file manipulation means that you can: <b>create</b> and <b>delete</b> files on FTP server, <b>rename</b> files, <b>create</b> <b>folders</b> and subfolders, <b>print</b> the folder listings, etc.</p>
<p>FTP applications were originally interactive command-line tools with a standardized command syntax. Various graphical user interfaces have been developed for all types of operating systems in use today.</p>
<p>FTP can be run in <b>active</b> or in <b>passive</b> <b>mode</b>, which control how the data connection is opened. The mode of operation is defined by the command, received from the client.</p>
<ul>
<li>In <b>active mode</b> the client sends the server the IP address port number that the client will use for the data connection, and the <b>server</b> <b>opens</b> the connection.</li>
<li>In <b>passive mode</b> the server sends the client an IP address and port number and the <b>client</b> <b>opens</b> the connection to the server. This mode is used, when the client is located behind a firewall and unable to accept incoming TCP connection.</li>
</ul>
<p>An embedded FTP Server can also be used to <b>upload</b> HTTP Web pages or to <b>download</b> log files to a remote PC. In this case, the File System Component must be used, and the Embedded Web Server must be properly configured.</p>
<h2>Supported Features</h2>
<p>The Embedded FTP server has integrated several advanced features:</p>
<ul>
<li><a class="el" href="using_ftp_server.html#ftp_access_filter">Access Filtering</a> allows you to filter out the hosts, which are <b>not allowed</b> to connect to the FTP Server.</li>
<li><a class="el" href="using_ftp_server.html#ftp_multiuser_authentication">Multi-user Authentication</a> allows you to add additional user accounts and different access rights for each user.</li>
<li><a class="el" href="using_ftp_server.html#ftp_user_notification">User Application Notification</a> sends notification about events in FTP server to the user application.</li>
</ul>
<h1><a class="anchor" id="ftp_fs_interface"></a>
File System Interface</h1>
<p>The Embedded FTP Server can store files in a generic File System. All interface functions are located in <b>FTP_Server_FS.c</b>, which will be automatically added to your project's <b>Network</b> folder. The file is preconfigured for the File System Component, so no modifications are required. If you want to use another type of file system or to use a different storage media such as a hard disk, you need to add a similar file to your project.</p>
<p>The following functions are implemented in this module:</p>
<ul>
<li><a class="el" href="group__net__ftps_func.html#ga3db0e43ba013cc0d8e5cd8aab9e1ff4b">ftp_server_fopen</a> - open a file for reading or writing.</li>
<li><a class="el" href="group__net__ftps_func.html#ga3398437ea5c344a4d22a1db2288c99e5">ftp_server_fclose</a> - close a file that was previously opened.</li>
<li><a class="el" href="group__net__ftps_func.html#gaa789cecec612de5a3e935ece21c77eeb">ftp_server_fread</a> - read a block of data from a file to the FTP data buffer.</li>
<li><a class="el" href="group__net__ftps_func.html#gae90aafd8c95945b2bd942d231eabae5c">ftp_server_fwrite</a> - write a block of data from the FTP data buffer to a file.</li>
<li><a class="el" href="group__net__ftps_func.html#ga7d02e3648205e7949f0d6479e8e9f2d6">ftp_server_fdelete</a> - delete a specified file.</li>
<li><a class="el" href="group__net__ftps_func.html#gaef8549b63b384fdf7363f22de7377c3c">ftp_server_frename</a> - rename a file from old to a new name.</li>
<li><a class="el" href="group__net__ftps_func.html#gaeb80984d244bae74204e7b236c2a2337">ftp_server_ffind</a> - find a file in a folder for printing a directory listing.</li>
</ul>
<h1><a class="anchor" id="ftp_access_filter"></a>
Access Filtering</h1>
<p>For access filtering the function <a class="el" href="group__net__ftps_func.html#ga6446d412f03ba3f2f0255ec93fb906fd">ftp_accept_client</a> is used. It is part of the file FTP_Server_Access.c. You need to adapt the function to the application's needs.</p>
<p><b>Code Example FTP_Server_Access.c</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Accept or deny connection from remote FTP client.</span></div>
<div class="line"><span class="comment">// If this function is missing, all remote clients are accepted.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#ga6446d412f03ba3f2f0255ec93fb906fd" title="Accept or deny connection from remote FTP client.">ftp_accept_client</a> (<span class="keyword">const</span> uint8_t *ip_addr, uint16_t port) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (ip_addr[0] == 192  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[1] == 168  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[2] == 0    &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[3] == 1) {</span></div>
<div class="line"><span class="comment">    // Accept connection.</span></div>
<div class="line"><span class="comment">    return (true);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  // Deny connection.</span></div>
<div class="line"><span class="comment">  return (false);</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="ftp_multiuser_authentication"></a>
Multi-user Authentication</h1>
<p>The multi-user login allows you to create different profiles for different users or groups of users. The profiles define the access rights to different files on the FTP server. The users which are allowed to access the FTP server are stored in an user database.</p>
<p>If you want to use multi-user authentication, you check the <b>Enable User Authentication</b> in the <b>Net_Config_FTP_Server.h</b> configuration file. The default account defined in the <b>Net_Config_FTP_Server.h</b> file is a system administrator account, which has no restrictions. All other accounts are created in a separate <b>FTP_Server_Multiuser.c</b> module. To add the module to your project, simply right-click on the Source group, select <b>Add Net Item to Group</b>, then click on <b>User Code Template</b> and scroll in the template files list until you find the <b>FTP Server Multi-user</b> template. To enable a list of users, you need to adapt the following functions that are included in this module:</p>
<ul>
<li><a class="el" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d">ftp_check_username</a> - checks if the user account exists for the provided credentials.</li>
<li><a class="el" href="group__net__ftps_func.html#ga22ac5f27f1998726a4d7b9930f6365e7">ftp_check_password</a> - checks if the password fits to the user account for the provided credentials.</li>
<li><a class="el" href="group__net__ftps_func.html#gae755a78e225ccc47b5a81f48184fc9be">ftp_file_access</a> - check if the access to the file is allowed for a provided user.</li>
</ul>
<p>The following function is included in the Network Component library rl_net.h:</p>
<ul>
<li><a class="el" href="group__net__ftps_func.html#gab8021fe3ee06ac4012e62a8c3b998622">ftp_get_user_id</a> - retrieves the user identification number for the user, which is trying to access the file or folder.</li>
</ul>
<p><b>Code Example FTP_Server_Multiuser.c</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if an user account exist in the user database.</span></div>
<div class="line">uint8_t <a class="code" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d" title="Check if an user account exist in the user database.">ftp_check_username</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *username) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (strcmp (username, &quot;guest&quot;) == 0) {</span></div>
<div class="line"><span class="comment">    // Username is correct</span></div>
<div class="line"><span class="comment">    return (1);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check user account password in the user database.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#ga22ac5f27f1998726a4d7b9930f6365e7" title="Check user account password in the user database.">ftp_check_password</a> (uint8_t user_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *password) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (user_id == 1) {</span></div>
<div class="line"><span class="comment">    if (strcmp (password, &quot;guest&quot;) == 0) {</span></div>
<div class="line"><span class="comment">      // Password is correct</span></div>
<div class="line"><span class="comment">      return (true);</span></div>
<div class="line"><span class="comment">    }</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if remote user is allowed to access a file on FTP server.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#gae755a78e225ccc47b5a81f48184fc9be" title="Check if remote user is allowed to access a file on FTP server.">ftp_file_access</a> (uint8_t user_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fname, uint8_t mode) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (user_id == 1) {</span></div>
<div class="line"><span class="comment">    if ((strcmp (fname, &quot;test.txt&quot;) == 0) &amp;&amp; (mode == 1)) {</span></div>
<div class="line"><span class="comment">      // User &quot;guest&quot; is not allowed to modify or delete &quot;test.txt&quot;</span></div>
<div class="line"><span class="comment">      return (false);</span></div>
<div class="line"><span class="comment">    }</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd><ul>
<li>If the <b>FTP_Server_Multiuser.c</b> is not added to the project, but Authentication is enabled, the FTP server runs in single user authentication mode.</li>
<li>You can disable a system administrator account, if you define an empty string for the <b>Authentication Username</b>.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="ftp_user_notification"></a>
User Application Notification</h1>
<p>In case you need to notify your application about events that are happening on the FTP server, the function <a class="el" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b">ftp_server_notify</a> is to be used. It is part of the file FTP_Server_Event.c. You need to adapt the function to the application's needs.</p>
<p><b>Code Example FTP_Server_Event.c</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Notify the user application about events in FTP server service.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b" title="Notify the user application about events in FTP server service.">ftp_server_notify</a> (<a class="code" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103" title="FTP Server Events.">ftpServerEvent</a> event) {</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aaa02554191aebc21a4e40560b354465c" title="User logged in, session is busy.">ftpServerLogin</a>:</div>
<div class="line">      <span class="comment">// User logged in, session is busy</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a81788932c5f8dbd6ecbdeb217f8907c2" title="User logged out, session is idle.">ftpServerLogout</a>:</div>
<div class="line">      <span class="comment">// User logged out, session is idle</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a27aeafcfffac7558bcbecccf94d0feeb" title="User login failed (invalid credentials)">ftpServerLoginFailed</a>:</div>
<div class="line">      <span class="comment">// User login failed (invalid credentials)</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a0b196ffdd24a65ee5826f60c17d55142" title="File download ended.">ftpServerDownload</a>:</div>
<div class="line">      <span class="comment">// File download ended</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a24ef24f0fd64bf2105523d2eb7556973" title="File upload ended.">ftpServerUpload</a>:</div>
<div class="line">      <span class="comment">// File upload ended</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a88212f0dae81442a39a26dd7f4fc08ff" title="File deleted.">ftpServerDelete</a>:</div>
<div class="line">      <span class="comment">// File deleted</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aac764612c835e623d93f6eefe2d828ef" title="File or directory renamed.">ftpServerRename</a>:</div>
<div class="line">      <span class="comment">// File or directory renamed</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a597ad285f9add9d2669d94cf5ff8fa90" title="Directory created.">ftpServerMakeDirectory</a>:</div>
<div class="line">      <span class="comment">// Directory created</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aa044ecf9faabf44decf0ce403470832a" title="Directory removed.">ftpServerRemoveDirectory</a>:</div>
<div class="line">      <span class="comment">// Directory removed</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103ab24fdff925779b4745ed05955db88635" title="Requested file operation denied.">ftpServerOperationDenied</a>:</div>
<div class="line">      <span class="comment">// Requested file operation denied</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a1280abdc6aa4c0e3289f191440e92618" title="Local file operation error.">ftpServerLocalFileError</a>:</div>
<div class="line">      <span class="comment">// Local file operation error</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a6d9a2e7cb7935a18f409fa342d31bee0" title="Generic file operation error.">ftpServerFileError</a>:</div>
<div class="line">      <span class="comment">// Generic file operation error</span></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a1cbc731363c266bdbf0e8f45fc43d1ac" title="Generic FTP server error.">ftpServerError</a>:</div>
<div class="line">      <span class="comment">// Generic FTP server error</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="ftp_supported_cmds"></a>
Supported FTP Commands</h1>
<p>The Network Component's FTP Server supports only a subset of standard FTP Commands. The following FTP Commands are supported: </p>
<table class="doxtable">
<tr>
<th>Code</th><th>Command</th><th>Description</th></tr>
<tr>
<td>USER</td><td>User Name</td><td>Starts login with name identifying the user. </td></tr>
<tr>
<td>PASS</td><td>Password</td><td>Continues login with the user's password. </td></tr>
<tr>
<td>QUIT</td><td>Logout</td><td>Closes the user connection. </td></tr>
<tr>
<td>SYST</td><td>System</td><td>Identifies the operating system at the server. </td></tr>
<tr>
<td>NOOP</td><td>No Operation</td><td>Sends an OK reply. </td></tr>
<tr>
<td>XNOP</td><td>No Operation</td><td>Same as NOOP </td></tr>
<tr>
<td>PWD </td><td>Print Working Directory</td><td>Returns the name of the current working directory. </td></tr>
<tr>
<td>XPWD</td><td>Print Working Directory</td><td>Same as PWD </td></tr>
<tr>
<td>CWD </td><td>Change Working Directory</td><td>Changes the current working directory of the user. </td></tr>
<tr>
<td>XCWD</td><td>Change Working Directory</td><td>Same as CWD </td></tr>
<tr>
<td>CDUP</td><td>Change Directory Up</td><td>Changes working directory to the parent of the current directory. </td></tr>
<tr>
<td>XCUP</td><td>Change Directory Up</td><td>Same as CDUP </td></tr>
<tr>
<td>MKD </td><td>Make Directory</td><td>Creates a sub directory in the current working directory. </td></tr>
<tr>
<td>XMKD</td><td>Make Directory</td><td>Same as MKD </td></tr>
<tr>
<td>RMD </td><td>Remove Directory</td><td>Removes the directory. </td></tr>
<tr>
<td>XRMD</td><td>Remove Directory</td><td>Same as RMD </td></tr>
<tr>
<td>TYPE</td><td>Representation Type</td><td>Supports ASCII and Image types. </td></tr>
<tr>
<td>PORT</td><td>Data Port</td><td>Specifies the data port to be used in data connection. </td></tr>
<tr>
<td>PASV</td><td>Passive</td><td>Requests the server to listen on a data port and wait for a connection. </td></tr>
<tr>
<td>LIST</td><td>List</td><td>Sends a directory listing to the user. </td></tr>
<tr>
<td>NLST</td><td>Name List</td><td>Sends a directory listing to the user. </td></tr>
<tr>
<td>RETR</td><td>Retrieve</td><td>Sends a file content to the user. </td></tr>
<tr>
<td>STOR</td><td>Store</td><td>Saves a captured user file on server. </td></tr>
<tr>
<td>APPE</td><td>Append</td><td>Appends a captured user file to an existing file on server. </td></tr>
<tr>
<td>DELE</td><td>Delete</td><td>Deletes a specified file from server. </td></tr>
<tr>
<td>RNFR</td><td>Rename From</td><td>Specifies the name of existing file to rename (must be followed by RNTO). </td></tr>
<tr>
<td>RNTO</td><td>Rename To</td><td>Renames an existing file to new name. </td></tr>
<tr>
<td>HELP</td><td>Help</td><td>Returns a list of supported commands. </td></tr>
<tr>
<td>SIZE</td><td>Size</td><td>Returns the size of a specified file. </td></tr>
<tr>
<td>MDTM</td><td>Last-modified Time</td><td>Returns last-modified time of a specified file. </td></tr>
</table>
<h1><a class="anchor" id="using_ftp_server_conf"></a>
FTP Server Configuration</h1>
<div class="image">
<img src="net_config_ftp_server_h.png" alt="net_config_ftp_server_h.png"/>
<div class="caption">
FTP Server Configuration File</div></div>
<p> The FTP server configuration file <b>Net_Config_FTP_Server.h</b> contains the following settings:</p>
<ul>
<li><b>Number of FTP Sessions</b> specifies the number of available FTP sessions. The default value is one, and this enables only one concurrent client connection. You should increase this number if multiple FTP clients must connect to the FTP server at the same time. If you are using Windows Explorer as a FTP client, you should also increase this number because Windows Explorer creates multiple simultaneous connections.</li>
<li><b>Port Number</b> specifies the listening TCP port number. The default FTP server listening port is 21.</li>
<li><b>Welcome Message</b> specifies the custom FTP server welcome message. This message is sent to the user on login. When this option contains an empty string, a default Welcome Message from the library is used instead.</li>
<li><b>Idle Session Timeout in seconds</b> specifies the interval of user inactivity, after which the connection is automatically closed. During an idle session, no TCP frames are exchanged. A value of 0 disables a disconnection on timeout.</li>
<li>The <b>Enable User Authentication</b> switch enables or disables authentication with a username and a password.<ul>
<li><b>Authentication Realm</b> is the string which is displayed in the browser's authentication dialogue if an authentication is required. This is a zero terminated string.</li>
<li><b>Authentication Username</b> is the username for authentication.</li>
<li><b>Authentication Password</b> is the default password, that must be stored in non-volatile memory. The user can change the password later.</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>One FTP session uses two TCP sockets, one control and one data socket. Have this in mind when you are configuring the number of TCP sockets. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="using_network_components.html">Using Network Components</a></li><li class="navelem"><a class="el" href="using_network_services.html">Services</a></li>
    <li class="footer">Generated on Thu Feb 20 2014 15:12:40 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 
	-->
	</li>
  </ul>
</div>
</body>
</html>
