<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SNMP Agent</title>
<title>Network Component: SNMP Agent</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 5.0</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <li id="GEN">	  <a href="../../General/html/index.html"><span>General</span></a></li>
      <li id="FS">    <a href="../../FileSystem/html/index.html"><span>File System</span></a></li>
      <li id="GRA">   <a href="../../Graphic/html/index.html"><span>Graphic</span></a></li>
      <li id="NET"    class="current">  <a href="../../Network/html/index.html"><span>Network</span></a></li>
      <li id="USB">   <a href="../../USB/html/index.html"><span>USB</span></a></li>
    </ul>
</div>
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__snmp__routines.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SNMP Agent</div>  </div>
<div class="ingroups"><a class="el" href="group__net__services.html">Services</a></div></div><!--header-->
<div class="contents">

<p>SNMP Agent routines enable network management features.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Structures</h2></td></tr>
<tr class="memitem:struct_s_n_m_p___m_i_b"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#struct_s_n_m_p___m_i_b">SNMP_MIB</a></td></tr>
<tr class="memdesc:struct_s_n_m_p___m_i_b"><td class="mdescLeft">&#160;</td><td class="mdescRight">SNMP-MIB Entry info.  <a href="group__snmp__routines.html#struct_s_n_m_p___m_i_b">More...</a><br/></td></tr>
<tr class="separator:struct_s_n_m_p___m_i_b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafb6789902c478645eca2253c1c7a6341"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#gafb6789902c478645eca2253c1c7a6341">snmp_trap</a> (const uint8_t *ip_addr, uint8_t generic, uint8_t specific, const uint16_t *obj_list)</td></tr>
<tr class="memdesc:gafb6789902c478645eca2253c1c7a6341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a trap message to the Trap Manager.  <a href="#gafb6789902c478645eca2253c1c7a6341"></a><br/></td></tr>
<tr class="separator:gafb6789902c478645eca2253c1c7a6341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga530c9801cae98b8d5a86c19aeafa8af8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#ga530c9801cae98b8d5a86c19aeafa8af8">snmp_set_community</a> (const char *community)</td></tr>
<tr class="memdesc:ga530c9801cae98b8d5a86c19aeafa8af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change SNMP community to a new community.  <a href="#ga530c9801cae98b8d5a86c19aeafa8af8"></a><br/></td></tr>
<tr class="separator:ga530c9801cae98b8d5a86c19aeafa8af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>SNMP Agent routines enable network management features. </p>
<p><b>Simple Network Management Protocol (SNMP)</b> is mainly used in network management systems to monitor network-attached devices for conditions that warrant administrative attention. It is the most popular network management protocol in the TCP/IP protocol suite.</p>
<dl class="section note"><dt>Note</dt><dd>The page <a class="el" href="using_snmp_agent.html">SNMP Agent</a> gives you more information on the actual usage of the functions and how to work with them in a project.</dd></dl>
<h2>Code Examples</h2>
<h3>SNMP Agent MIB Data Template</h3>
<p>The following source code is part of the <b>SNMP_Agent_MIB.c</b> template file. This code template enables the developer to define an application specific <a class="el" href="using_snmp_agent.html#mib_table">MIB data table</a> for the SNMP agent: <a class="anchor" id="anchor_SNMP_Agent_MIB"></a></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// System</span></div>
<div class="line"><span class="keyword">extern</span> uint32_t <a class="code" href="_s_n_m_p___agent___m_i_b_8c.html#a12860c2aad0b0936c54684c3972c21f9" title="[code_SNMP_Agent_MIB]">snmp_SysUpTime</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// MIB read only integer constants</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t sysServices = 79;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Example</span></div>
<div class="line"><span class="comment">// snmp_agent.c</span></div>
<div class="line"><span class="comment">extern bool LCDupdate;</span></div>
<div class="line"><span class="comment">extern char lcd_text[2][16+1];</span></div>
<div class="line"><span class="comment">extern uint8_t get_button (void);</span></div>
<div class="line"><span class="comment">extern void    LED_Out (uint8_t leds);</span></div>
<div class="line"><span class="comment"> </span></div>
<div class="line"><span class="comment">// Local variables</span></div>
<div class="line"><span class="comment">static uint8_t  LedOut;</span></div>
<div class="line"><span class="comment">static uint8_t  KeyIn;</span></div>
<div class="line"><span class="comment"> </span></div>
<div class="line"><span class="comment">// MIB event callback functions</span></div>
<div class="line"><span class="comment">static void write_leds (int mode) {</span></div>
<div class="line"><span class="comment">  if (mode == MIB_WRITE) {</span></div>
<div class="line"><span class="comment">    LED_Out (LedOut);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">}</span></div>
<div class="line"><span class="comment"> </span></div>
<div class="line"><span class="comment">static void read_key (int mode) {</span></div>
<div class="line"><span class="comment">  if (mode == MIB_READ) {</span></div>
<div class="line"><span class="comment">    KeyIn = get_button();</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">}</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// MIB data table</span></div>
<div class="line"><span class="keyword">const</span> <a class="code" href="group__snmp__routines.html#struct_s_n_m_p___m_i_b" title="SNMP-MIB Entry info.">SNMP_MIB</a> snmp_mib[] = {</div>
<div class="line"><span class="comment">// ---------- System MIB ----------- </span></div>
<div class="line">  <span class="comment">// SysDescr Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a6a09b685401fd19851fdb74e423c6d52" title="MIB entry type OCTET_STRING.">MIB_OCTET_STR</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 1, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#ad944c38266e39ebe98af66c395c2a131" title="SNMP-MIB macros.">MIB_STR</a>(<span class="stringliteral">&quot;Embedded System SNMP V1.0&quot;</span>),</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysObjectID Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a3d6543f237b5832974db3cb492355571" title="MIB entry type OBJECT_IDENTIFIER.">MIB_OBJECT_ID</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 2, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#ad944c38266e39ebe98af66c395c2a131" title="SNMP-MIB macros.">MIB_STR</a>(<span class="stringliteral">&quot;\x2b\x06\x01\x02\x01\x01\x02\x00&quot;</span>),</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysUpTime Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#aed3ad4b2d6a8cdca482fc98c423cef8f" title="MIB entry type TIME_TICKS.">MIB_TIME_TICKS</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 3, 0},</div>
<div class="line">    4, &amp;snmp_SysUpTime,</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysContact Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a6a09b685401fd19851fdb74e423c6d52" title="MIB entry type OCTET_STRING.">MIB_OCTET_STR</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 4, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#ad944c38266e39ebe98af66c395c2a131" title="SNMP-MIB macros.">MIB_STR</a>(<span class="stringliteral">&quot;test@keil.com&quot;</span>),</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysName Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a6a09b685401fd19851fdb74e423c6d52" title="MIB entry type OCTET_STRING.">MIB_OCTET_STR</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 5, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#ad944c38266e39ebe98af66c395c2a131" title="SNMP-MIB macros.">MIB_STR</a>(<span class="stringliteral">&quot;Evaluation board&quot;</span>),</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysLocation Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a6a09b685401fd19851fdb74e423c6d52" title="MIB entry type OCTET_STRING.">MIB_OCTET_STR</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 6, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#ad944c38266e39ebe98af66c395c2a131" title="SNMP-MIB macros.">MIB_STR</a>(<span class="stringliteral">&quot;Local&quot;</span>),</div>
<div class="line">    NULL },</div>
<div class="line">  <span class="comment">// SysServices Entry</span></div>
<div class="line">  { <a class="code" href="rl__net_8h.html#a92acf1076e5ce592999db4170e38b2c5" title="SNMP-MIB definitions.">MIB_INTEGER</a> | <a class="code" href="rl__net_8h.html#a6cb6f3df80a9f560c4cbe261641eaea1" title="MIB entry attribute READ_ONLY.">MIB_ATR_RO</a>,</div>
<div class="line">    8, {<a class="code" href="rl__net_8h.html#a524c32f35c707a1bf6b256c3d86b5ee0">MIB_OID0</a>(1,3), 6, 1, 2, 1, 1, 7, 0},</div>
<div class="line">    <a class="code" href="rl__net_8h.html#afa16c5468f05022f71c6abe68d506466">MIB_INT</a>(sysServices),</div>
<div class="line">    NULL },</div>
<div class="line"><span class="comment">// ---------- Experimental MIB -----------</span></div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  // AddLedOut Entry</span></div>
<div class="line"><span class="comment">  { MIB_INTEGER,</span></div>
<div class="line"><span class="comment">    6, {MIB_OID0(1,3), 6, 1, 3, 1, 0},</span></div>
<div class="line"><span class="comment">    MIB_INT(LedOut),</span></div>
<div class="line"><span class="comment">    write_leds },</span></div>
<div class="line"><span class="comment">  // KeyIn Entry</span></div>
<div class="line"><span class="comment">  { MIB_INTEGER | MIB_ATR_RO,</span></div>
<div class="line"><span class="comment">    6, {MIB_OID0(1,3), 6, 1, 3, 2, 0},</span></div>
<div class="line"><span class="comment">    MIB_INT(KeyIn),</span></div>
<div class="line"><span class="comment">    read_key },</span></div>
<div class="line"><span class="comment">     ...</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="_s_n_m_p___agent___m_i_b_8c.html#ae14d66f9bdec5bc9659eed76c80417b3">snmp_mib_size</a> = <a class="code" href="rl__net_8h.html#adae0c0d3d51e5849106fe4a765326338">SNMP_MIB_SIZE</a>(snmp_mib);</div>
</div><!-- fragment --><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct_s_n_m_p___m_i_b" id="struct_s_n_m_p___m_i_b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct SNMP_MIB</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>SNMP-MIB Entry info. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:aeff746a68ed515a1d9f0c40a38dd200b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#aeff746a68ed515a1d9f0c40a38dd200b">Type</a></td></tr>
<tr class="memdesc:aeff746a68ed515a1d9f0c40a38dd200b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object Type.  <a href="#aeff746a68ed515a1d9f0c40a38dd200b"></a><br/></td></tr>
<tr class="separator:aeff746a68ed515a1d9f0c40a38dd200b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0452c792006684e6816d7d3d9aa7f4"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#a8c0452c792006684e6816d7d3d9aa7f4">OidLen</a></td></tr>
<tr class="memdesc:a8c0452c792006684e6816d7d3d9aa7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object ID length.  <a href="#a8c0452c792006684e6816d7d3d9aa7f4"></a><br/></td></tr>
<tr class="separator:a8c0452c792006684e6816d7d3d9aa7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb403c91068758a35b8d129e45d82527"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#aeb403c91068758a35b8d129e45d82527">Oid</a> [<a class="el" href="rl__net_8h.html#a252cc29e7614d0a7628082190901ec72">MIB_OID_SIZE</a>]</td></tr>
<tr class="memdesc:aeb403c91068758a35b8d129e45d82527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object ID value.  <a href="#aeb403c91068758a35b8d129e45d82527"></a><br/></td></tr>
<tr class="separator:aeb403c91068758a35b8d129e45d82527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd12799987192052b40947a02ad0cb27"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#afd12799987192052b40947a02ad0cb27">ValSz</a></td></tr>
<tr class="memdesc:afd12799987192052b40947a02ad0cb27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of a variable.  <a href="#afd12799987192052b40947a02ad0cb27"></a><br/></td></tr>
<tr class="separator:afd12799987192052b40947a02ad0cb27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b4d3b2adb446498c9f4fb31f752203"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#a06b4d3b2adb446498c9f4fb31f752203">Val</a></td></tr>
<tr class="memdesc:a06b4d3b2adb446498c9f4fb31f752203"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a variable.  <a href="#a06b4d3b2adb446498c9f4fb31f752203"></a><br/></td></tr>
<tr class="separator:a06b4d3b2adb446498c9f4fb31f752203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ffd29cee8043343a97fc07fd014023"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__snmp__routines.html#aa5ffd29cee8043343a97fc07fd014023">cb_func</a> )(int mode)</td></tr>
<tr class="memdesc:aa5ffd29cee8043343a97fc07fd014023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write/Read event callback function.  <a href="#aa5ffd29cee8043343a97fc07fd014023"></a><br/></td></tr>
<tr class="separator:aa5ffd29cee8043343a97fc07fd014023"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="aa5ffd29cee8043343a97fc07fd014023"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* cb_func)(int mode)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write/Read event callback function. </p>

</div>
</div>
<a class="anchor" id="aeb403c91068758a35b8d129e45d82527"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Oid[<a class="el" href="rl__net_8h.html#a252cc29e7614d0a7628082190901ec72">MIB_OID_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object ID value. </p>

</div>
</div>
<a class="anchor" id="a8c0452c792006684e6816d7d3d9aa7f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t OidLen</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object ID length. </p>

</div>
</div>
<a class="anchor" id="aeff746a68ed515a1d9f0c40a38dd200b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object Type. </p>

</div>
</div>
<a class="anchor" id="a06b4d3b2adb446498c9f4fb31f752203"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* Val</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to a variable. </p>

</div>
</div>
<a class="anchor" id="afd12799987192052b40947a02ad0cb27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ValSz</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of a variable. </p>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga530c9801cae98b8d5a86c19aeafa8af8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> snmp_set_community </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>community</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change SNMP community to a new community. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">community</td><td>new community, a null-terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="rl__net_8h.html#a5675a3b88ee02986ae15ae3bb8135551">netStatus</a>.</dd></dl>
<p>The function <b>snmp_set_community</b> changes the SNMP community to a new community identified by <em>community</em>.</p>
<p>The argument <em>community</em> is a pointer to a 0-terminated string. The maximum length of the community string is limited to 18 characters.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> send_alarm (<span class="keywordtype">void</span>) {</div>
<div class="line">  <span class="comment">// Send a trap message when alarm input is activated.</span></div>
<div class="line">  uint16_t obj[2];</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Change the community to &quot;private&quot;. </span></div>
<div class="line">  <a class="code" href="group__snmp__routines.html#ga530c9801cae98b8d5a86c19aeafa8af8" title="Change SNMP community to a new community.">snmp_set_community</a> (<span class="stringliteral">&quot;private&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Add &quot;KeyIn&quot; value to trap message. </span></div>
<div class="line">  obj[0] = 1;</div>
<div class="line">  obj[1] = 8;    <span class="comment">// Index of &quot;KeyIn&quot; entry in MIB table.</span></div>
<div class="line">  <a class="code" href="group__snmp__routines.html#gafb6789902c478645eca2253c1c7a6341" title="Send a trap message to the Trap Manager.">snmp_trap</a> (NULL, 6, 1, obj);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Restore the community to &quot;public&quot;. </span></div>
<div class="line">  <a class="code" href="group__snmp__routines.html#ga530c9801cae98b8d5a86c19aeafa8af8" title="Change SNMP community to a new community.">snmp_set_community</a> (<span class="stringliteral">&quot;public&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gafb6789902c478645eca2253c1c7a6341"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> snmp_trap </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>generic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>specific</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>obj_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a trap message to the Trap Manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of the Trap server or NULL to use Trap server IP address from system configuration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">generic</td><td>generic trap type:<ul>
<li>0 = ColdStart trap</li>
<li>1 = WarmStart trap</li>
<li>2 = LinkDown trap</li>
<li>3 = LinkUp trap</li>
<li>4 = AuthenticationFailure trap</li>
<li>5 = EgpNeighborLoss trap</li>
<li>6 = EnterpriseSpecific trap </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">specific</td><td>specific trap type for generic enterpriseSpecific trap:<ul>
<li>must be set to 0 for generic traps 0 ... 5 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">obj_list</td><td>object list included in trap message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="rl__net_8h.html#a5675a3b88ee02986ae15ae3bb8135551">netStatus</a>.</dd></dl>
<p>The function <b>snmp_trap</b> sends a message to the Trap Manager.</p>
<p>The argument <em>ip_addr</em> points to the IP address of the Trap server. If the IP address of the Trap Manager is <span class="XML-Token">NULL</span>, then the IP address of Trap Server configured in <b>Net_Config_SNMP_Agent.h</b> is used.</p>
<p>The argument <em>generic</em> specifies the generic trap type: </p>
<table class="doxtable">
<tr>
<th align="center">Type</th><th>Description </th></tr>
<tr>
<td align="center">0 </td><td>coldStart trap </td></tr>
<tr>
<td align="center">1 </td><td>warmStart trap </td></tr>
<tr>
<td align="center">2 </td><td>linkDown trap </td></tr>
<tr>
<td align="center">3 </td><td>linkUp trap </td></tr>
<tr>
<td align="center">4 </td><td>authenticationFailure trap </td></tr>
<tr>
<td align="center">5 </td><td>egpNeighborLoss trap </td></tr>
<tr>
<td align="center">6 </td><td>enterpriseSpecific trap </td></tr>
</table>
<p>The argument <em>specific</em> specifies the specific trap type. It must be set to <span class="XML-Token">0</span> for all generic traps from <b>0..5</b>. It defines a specific trap type for generic <b>enterpriseSpecific</b> trap.</p>
<p>The argument <em>obj_list</em> points to the objects from the MIB table, which will be included in the trap message variable-bindings. This argument is a pointer to the object list array. This array is of variable size. The first element specifies the count of objects in the object list array, followed by the object MIB index values. </p>
<table class="doxtable">
<tr>
<th align="center">Array Index</th><th>Array Value </th></tr>
<tr>
<td align="center">obj[0] </td><td>number of objects n </td></tr>
<tr>
<td align="center">obj[1] </td><td>MIB index of first object </td></tr>
<tr>
<td align="center">obj[2] </td><td>MIB index of second object </td></tr>
<tr>
<td align="center">.. </td><td>.. </td></tr>
<tr>
<td align="center">obj[n] </td><td>MIB index of last object </td></tr>
</table>
<p>If <em>obj_list</em> is <span class="XML-Token">NULL</span>, or <b>obj[0] = 0</b>, then no object values will be bound to the trap message.</p>
<dl class="section note"><dt>Note</dt><dd>The maximum number of objects that can be bound to the trap message is limited to <b>20</b> objects.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> send_alarm (<span class="keywordtype">void</span>) {</div>
<div class="line">  <span class="comment">// Send a trap message when alarm input is activated.</span></div>
<div class="line">  <span class="keyword">const</span> uint16_t obj[2];</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Add &quot;KeyIn&quot; value to trap message. </span></div>
<div class="line">  obj[0] = 1;</div>
<div class="line">  obj[1] = 8;    <span class="comment">// Index of &quot;KeyIn&quot; entry in MIB table.</span></div>
<div class="line">  <a class="code" href="group__snmp__routines.html#gafb6789902c478645eca2253c1c7a6341" title="Send a trap message to the Trap Manager.">snmp_trap</a> (NULL, 6, 1, obj);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 20 2014 15:12:43 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 
	-->
	</li>
  </ul>
</div>
</body>
</html>
