<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Core Functions</title>
<title>USB Component: Core Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">USB Component
   &#160;<span id="projectnumber">Version 5.1</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for USB Device and Host</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <li id="GEN">   <a href="../../General/html/index.html"><span>General</span></a></li>
      <li id="FS">    <a href="../../FileSystem/html/index.html"><span>File System</span></a></li>
      <li id="GRA">   <a href="../../Graphic/html/index.html"><span>Graphic</span></a></li>
      <li id="NET">   <a href="../../Network/html/index.html"><span>Network</span></a></li>
      <li id="USB"    class="current">  	<a href="../../USB/html/index.html"><span>USB</span></a></li>
    </ul>
</div>
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__usbd__core_functions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Core Functions</div>  </div>
<div class="ingroups"><a class="el" href="group__usbd.html">USB Device</a></div></div><!--header-->
<div class="contents">

<p>Initialize and manage the USB Device Core.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga559583d2070ad06bd6b7b5be76c8cd2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbd__core_functions.html#ga559583d2070ad06bd6b7b5be76c8cd2f">USBD_Initialize</a> (int8_t device)</td></tr>
<tr class="memdesc:ga559583d2070ad06bd6b7b5be76c8cd2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize USB Device stack and controller.  <a href="#ga559583d2070ad06bd6b7b5be76c8cd2f"></a><br/></td></tr>
<tr class="separator:ga559583d2070ad06bd6b7b5be76c8cd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga462720e29daee5b88825566f313ac04e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbd__core_functions.html#ga462720e29daee5b88825566f313ac04e">USBD_Uninitialize</a> (int8_t device)</td></tr>
<tr class="memdesc:ga462720e29daee5b88825566f313ac04e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-initialize USB Device stack and controller.  <a href="#ga462720e29daee5b88825566f313ac04e"></a><br/></td></tr>
<tr class="separator:ga462720e29daee5b88825566f313ac04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8cb53f9288fdf288ea368b63816b60d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbd__core_functions.html#gae8cb53f9288fdf288ea368b63816b60d">USBD_Connect</a> (int8_t device)</td></tr>
<tr class="memdesc:gae8cb53f9288fdf288ea368b63816b60d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate pull-up on D+ or D- line to signal USB Device connection on USB Bus.  <a href="#gae8cb53f9288fdf288ea368b63816b60d"></a><br/></td></tr>
<tr class="separator:gae8cb53f9288fdf288ea368b63816b60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7580821317f14bfe4f052beca2f90b9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbd__core_functions.html#ga7580821317f14bfe4f052beca2f90b9b">USBD_Disconnect</a> (int8_t device)</td></tr>
<tr class="memdesc:ga7580821317f14bfe4f052beca2f90b9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect USB Device from USB Bus.  <a href="#ga7580821317f14bfe4f052beca2f90b9b"></a><br/></td></tr>
<tr class="separator:ga7580821317f14bfe4f052beca2f90b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d69509e851ea787f84720c1e7c54b8d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbd__core_functions.html#ga9d69509e851ea787f84720c1e7c54b8d">USBD_Configured</a> (int8_t device)</td></tr>
<tr class="memdesc:ga9d69509e851ea787f84720c1e7c54b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return USB Device configuration status.  <a href="#ga9d69509e851ea787f84720c1e7c54b8d"></a><br/></td></tr>
<tr class="separator:ga9d69509e851ea787f84720c1e7c54b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Initialize and manage the USB Device Core. </p>
<p>The functions initialize and start the USB Device Core along with the related device classes. Use these functions prior to using any other class specific function. The two most important functions of the USB Device Core are:</p>
<ul>
<li><a class="el" href="group__usbd__core_functions.html#ga559583d2070ad06bd6b7b5be76c8cd2f">USBD_Initialize</a> which initializes the USB Device Controller, Hardware Driver and a specific USB Device.</li>
<li><a class="el" href="group__usbd__core_functions.html#gae8cb53f9288fdf288ea368b63816b60d">USBD_Connect</a> which connects a specific USB Device to the USB Device Controller. </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9d69509e851ea787f84720c1e7c54b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USBD_Configured </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return USB Device configuration status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true device is in configured state and ready to communicate. </dd>
<dd>
false device is not configured and not ready to communicate.</dd></dl>
<p>The function <b>USBD_Configured</b> retrieves the configuration status of the USB Device. It determines whether the USB Device has been configured and is ready to communicate.</p>
<p>The argument <em>device</em> specifies the instance of the USB Device. </p>

</div>
</div>
<a class="anchor" id="gae8cb53f9288fdf288ea368b63816b60d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a> USBD_Connect </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate pull-up on D+ or D- line to signal USB Device connection on USB Bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>.</dd></dl>
<p>The function <b>USBD_Connect</b> connects the USB Device to the USB Bus. This typically initiates the enumeration on the USB Host side for the USB Device.</p>
<p>The argument <em>device</em> specifies the instance of the USB Device.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;cmsis_os.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;rl_usb.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">void</span>) {</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="group__usbd__core_functions.html#ga559583d2070ad06bd6b7b5be76c8cd2f" title="Initialize USB Device stack and controller.">USBD_Initialize</a> (0);       <span class="comment">/* USB Device 0 Initialization */</span></div>
<div class="line">  <a class="code" href="group__usbd__core_functions.html#gae8cb53f9288fdf288ea368b63816b60d" title="Activate pull-up on D+ or D- line to signal USB Device connection on USB Bus.">USBD_Connect</a>    (0);       <span class="comment">/* USB Device 0 Connect        */</span></div>
<div class="line">  <span class="keywordflow">while</span> (1) {                <span class="comment">/* Loop forever                */</span></div>
<div class="line">  ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga7580821317f14bfe4f052beca2f90b9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a> USBD_Disconnect </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect USB Device from USB Bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>.</dd></dl>
<p>The function <b>USBD_Disconnect</b> disconnects the USB Device from the USB Bus. After executing this function the USB Device cannot be longer accessed from the USB Host.</p>
<p>The argument <em>device</em> specifies the instance of the USB Device. </p>

</div>
</div>
<a class="anchor" id="ga559583d2070ad06bd6b7b5be76c8cd2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a> USBD_Initialize </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize USB Device stack and controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>.</dd></dl>
<p>The function <b>USBD_Initialize</b> initializes the USB Device Controller Core and Hardware Driver (such as the USB clock and pins). It starts all the tasks and sets up the main USB interrupt service routine. In any application, the <b>USBD_Initialize</b> function must be called before invoking any other USB Device function. The function does not initialize any non-USB hardware features.</p>
<p>The argument <em>device</em> specifies the instance of the USB Device.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;cmsis_os.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;rl_usb.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main (<span class="keywordtype">void</span>) {</div>
<div class="line">  ...</div>
<div class="line">  <a class="code" href="group__usbd__core_functions.html#ga559583d2070ad06bd6b7b5be76c8cd2f" title="Initialize USB Device stack and controller.">USBD_Initialize</a> (0);       <span class="comment">/* USB Device 0 Initialization */</span></div>
<div class="line">  <a class="code" href="group__usbd__core_functions.html#gae8cb53f9288fdf288ea368b63816b60d" title="Activate pull-up on D+ or D- line to signal USB Device connection on USB Bus.">USBD_Connect</a>    (0);       <span class="comment">/* USB Device 0 Connect        */</span></div>
<div class="line">  <span class="keywordflow">while</span> (1) {                <span class="comment">/* Loop forever                */</span></div>
<div class="line">  ...</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga462720e29daee5b88825566f313ac04e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a> USBD_Uninitialize </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Un-initialize USB Device stack and controller. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#gaa48e102b9b2600828158b5319c3386af">usbStatus</a>.</dd></dl>
<p>De-initialize the USB Device attached to that port. Invoke this function when connection errors are reported.</p>
<p>The argument <em>device</em> specifies the instance of the USB Device. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 20 2014 15:12:50 for USB Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 
	-->
	</li>
  </ul>
</div>
</body>
</html>
