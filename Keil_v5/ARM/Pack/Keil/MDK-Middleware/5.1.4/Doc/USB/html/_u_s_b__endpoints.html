<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>USB Endpoints</title>
<title>USB Component: USB Endpoints</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">USB Component
   &#160;<span id="projectnumber">Version 5.1</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for USB Device and Host</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <li id="GEN">   <a href="../../General/html/index.html"><span>General</span></a></li>
      <li id="FS">    <a href="../../FileSystem/html/index.html"><span>File System</span></a></li>
      <li id="GRA">   <a href="../../Graphic/html/index.html"><span>Graphic</span></a></li>
      <li id="NET">   <a href="../../Network/html/index.html"><span>Network</span></a></li>
      <li id="USB"    class="current">  	<a href="../../USB/html/index.html"><span>USB</span></a></li>
    </ul>
</div>
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_u_s_b__endpoints.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">USB Endpoints </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>USB is a polled bus, where the USB Host initiates all data exchanges. The data travels to or from <a class="el" href="_u_s_b__endpoints.html#endpoints">Endpoints</a> in an USB Device. The <b>client</b> in the USB Host stores data in buffers, but does not have endpoints. The USB Host and the peripheral USB Device have distinct layers, as shown in the picture below. The connections between the layers are <b>logical</b> Host-Device interfaces between each horizontal layer. Between the logical connections data is transferred using <a class="el" href="_u_s_b__endpoints.html#pipe_types">Pipes</a>.</p>
<div class="image">
<img src="usb_endpoints.png" alt="usb_endpoints.png"/>
<div class="caption">
Logical Connections Between USB Host Clients and USB Device Endpoints</div></div>
 <h1><a class="anchor" id="pipe_types"></a>
Pipes</h1>
<p>Basically, two types of <b>pipes</b> exist:</p>
<ul>
<li><b>Message pipes</b> have a defined USB format and are host controlled. Message pipes allow data to flow in both directions and support <a class="el" href="_u_s_b__control__transfers.html">Control Transfers</a> only.</li>
<li><b>Stream pipes</b> have no defined USB format and can either be controlled by the host or by the device. The data stream has a predefined direction, either <b>IN</b> or <b>OUT</b>. Stream pipes support <a class="el" href="_u_s_b__interrupt__transfers.html">Interrupt Transfers</a>, <a class="el" href="_u_s_b__isochronous__transfers.html">Isochronous Transfers</a>, and <a class="el" href="_u_s_b__bulk__transfers.html">Bulk Transfers</a>.</li>
</ul>
<p>Most pipes come into existence when an USB Device has been connected to the USB Bus and the communication speed has been determined. A pipe originates from a <b>data</b> <b>buffer</b> within the host <b>client</b> and terminates inside the USB Device at an <a class="el" href="_u_s_b__endpoints.html#endpoints">endpoint</a>.</p>
<h1><a class="anchor" id="transfers"></a>
Transfers</h1>
<p><b>Transfers</b> (data flow types) can consist of one or more transactions. A pipe supports only one of the following transfer types:</p>
<ul>
<li><a class="el" href="_u_s_b__control__transfers.html">Control Transfers</a> are typically used to setup an USB device. They always use IN/OUT Endpoint 0.</li>
<li><a class="el" href="_u_s_b__interrupt__transfers.html">Interrupt Transfers</a> can be used where data is sent regularly, for example for status updates.</li>
<li><a class="el" href="_u_s_b__isochronous__transfers.html">Isochronous Transfers</a> transmit real-time data such as audio and video. They have a guaranteed, fixed bandwidth.</li>
<li><a class="el" href="_u_s_b__bulk__transfers.html">Bulk Transfers</a> can be used to send data where timing is not important, for example to a printer.</li>
</ul>
<h1><a class="anchor" id="endpoints"></a>
Endpoints</h1>
<p><b>Endpoints</b> can be described as data sources or sinks and exists in USB Devices only. The data stored at an endpoint may either be received from or waiting for being sent to the Host. An endpoint can be configured to support four <a class="el" href="_u_s_b__endpoints.html#transfers">transfer types</a> defined in the USB specification (<a class="el" href="_u_s_b__control__transfers.html">Control Transfers</a>, <a class="el" href="_u_s_b__interrupt__transfers.html">Interrupt Transfers</a>, <a class="el" href="_u_s_b__isochronous__transfers.html">Isochronous Transfers</a>, and <a class="el" href="_u_s_b__bulk__transfers.html">Bulk Transfers</a>). Within the limits of the hardware, the endpoints can be configured using the USB Middleware (e.g. limit an endpoint to a certain transfer type). <br/>
 An endpoint acts as a kind of buffer. A host's client may send data to endpoint 1 for example. Coming from the host, the data will be sent to the <b>OUT Endpoint 1</b>. The program on the microcontroller will then read the data as soon as it is ready to do so. Returning data has to be written to the <b>IN Endpoint 1</b>, as the program cannot access the bus freely (the bus being controlled by the host). The data in IN Endpoint 1 stays there until the host sends an IN packet to endpoint 1 requesting the data. <br/>
 These rules apply to all microcontroller devices:</p>
<ul>
<li>A device can have up to <b>16</b> <b>OUT</b> and <b>16</b> <b>IN</b> endpoints.</li>
<li>Each endpoint can have only <b>one</b> <b>transfer</b> <b>direction</b>.</li>
<li><b>Endpoint</b> <b>0</b> is used for control transfers only and can not be assigned to any other function.</li>
<li><b>OUT</b> always refers to the direction pointing from the host to the device.</li>
<li><b>IN</b> always refers to the direction pointing towards the host.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The total number of endpoints and the capability of each endpoint is defined by the underlying hardware. Please consult the hardware reference manual of your microcontroller. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Feb 20 2014 15:12:48 for USB Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 
	-->
	</li>
  </ul>
</div>
</body>
</html>
