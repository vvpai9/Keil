;version 1.00, 03/15/2012, Copyright P&E Microcomputer Systems, www.pemicro.com [mk_256k_pflash_dflash_ftmra]
;device freescale, ke15d256m7, pflash_dflash
;begin_cs device=$00000000, length=$10002000, ram=$20000000
;end_cs
REQUIRES_PROG_VERSION=1.03/
DEVICE_IS_GUINESS
NO_ON_CHIP_RAM
DO_MASS_ERASE_AND_RESET       ;Perform MDM Mass erase
WRITE_LONG=00FF003F/4001F000/ ;Disable Master0..2 prefetching
WRITE_LONG=30020000/4001F004/ ;Disable Cache and Prefetching on Flash Bank 0
WRITE_LONG=30020000/4001F008/ ;Disable Cache and Prefetching on Flash Bank 1
WRITE_LONG=FFFFFFFF/40020010/ ;All PFlash protection off
BLANK_MODULE_ONLY
BLOCKING_MASK=00000007/
NO_BASE_ADDRESS=00000000/
ADDR_RANGE=00000000/0003FFFF/00/FFFFFFF8/FFFFFC00/     ; $00000000-$0003FFFF P-Flash
ADDR_RANGE=10000000/10001FFF/00/FFFFFFF8/FFFFFF00/     ; $10000000-$10001FFF D-Flash
; turn off watchdog timer
WRITE_LONG=4003A00E/1FFFFF00/ ; dc32 0x4003A00E      ;wdog unlock address
WRITE_LONG=4003A000/1FFFFF04/ ; dc32 0x4003A000      ;wdog control_h
WRITE_LONG=500CF85F/1FFFFF08/ ; ldr  r5,w_unlock_loc ;get wdog unlock address 
WRITE_LONG=600CF85F/1FFFFF0C/ ; ldr  r6,w_control_h  ;get wdog control address
WRITE_LONG=5820F24C/1FFFFF10/ ; mov  r8,#0xC520      ;get constants
WRITE_LONG=1928F64D/1FFFFF14/ ; mov  r9,#0xD928
WRITE_LONG=0A02F04F/1FFFFF18/ ; mov  r10,#0x0002
WRITE_LONG=8000F8A5/1FFFFF1C/ ; strh r8,[r5]         ;unlock wdog
WRITE_LONG=9000F8A5/1FFFFF20/ ; strh r9,[r5]
WRITE_WORD=BF00/1FFFFF24/     ; nop                  ;timing
WRITE_LONG=A000F8A6/1FFFFF26/ ; strh r10,[r6]        ;turn wdog off
WRITE_WORD=BE00/1FFFFF2A/     ; bkpt #0x0 
SET_PC_AND_RUN=1FFFFF08/      ; disable software watchdog
PUT_REGFILE=00/1FFFFF00/              ;Address in SRAM_LOW for timing routine
;ICS_RANGE=000312500/000382000/000005120/ ICS Range (LSB = decimal place)
;09BIT_TRIM=40044002/40044003/01/000003FF/000003FE/01000000/
USER=SD Secure Device      0          /00000000/00000000/

S02200006D6B5F3235366B5F70666C6173685F64666C6173685F66746D72612E7331396C
S31520000000940200209406002000200000000000003A
S315200000100020001000000000C800002000000000A2
S3152000002000000000640000200000000008010020FD
S315200000304E0000205000002052000020000000004A
S315200000400000000000000000A200002000BE00BE4C
S3152000005000BE804D4FF03006EE716870EA7912F0DE
S31520000060700200BE4FF00006EE704FF00806EE72EA
S315200000704FF08006EE71EE7916F08006FBD0EA7915
S3152000008012F0300200D100E000BE4FF00802784B9B
S31520000090734E43F8046B704E1E604FF48161744BAF
S315200000A032E04FF00802724B4FF4816757F8046B29
S315200000B043F8046B3E68DFF8A48108EA06061E6052
S315200000C04FF481616A4B1FE040F20E464FF6FF77F0
S315200000D04FF6FE794FF000014FF480228A4631F820
S315200000E0028BB24503D1C8450DD1921EF6E7B8451D
S315200000F009D1921EF2D15C495C4A31F8028BB8458F
S3152000010001D1921EF9D100BE17465DA421604FF0A1
S315200001103006EE71544EB14208DBDFF860814FF0B5
S3152000012011094FF0120A4FF4807C07E0DFF848816E
S315200001304FF006094FF00A0A4FF4806C504901EA45
S3152000014008018B4662464FEA52024A4E31F8020BAC
S3152000015026F8020B521EF9D14FF03006EE714FF001
S315200001600006EE7059464FEA1141C5F80A1085F887
S315200001700BA0EE7806F10106EE70A5F80AB04FF056
S315200001808006EE7100BFEE7916F08006FBD0EA7984
S3152000019012F0700259D13A496046A0F1010001EAF5
S315200001A00000344E0644334A624453F8040B46F8A2
S315200001B0040B01F104013F1F02D0964200D0F4E760
S315200001C02FA0016060464FEAD0002A4C4FF000066F
S315200001D0EE7059464FEA1141C5F80A1085F80B9082
S315200001E0EE7806F10106EE70A5F80AB0EE7806F173
S315200001F00106EE7034F8026B6E81EE7806F1010688
S31520000200EE7034F8026B6E81EE7806F10106EE7020
S3152000021034F8026B6E81EE7806F10106EE7034F842
S31520000220026B6E814FF08006EE71EE7916F0800635
S31520000230FBD0EA7912F0300207D10BF1080B401EF1
S315200002400028C3D1002F7FF479AFEA7912F030026B
S3152000025000BE000000900340FFFFFEFFFFFFFCFFF3
S31520000260FFFFFFFF0000000000000010002000003C
S31520000270940600209402002000FCFFFF00FFFFFFF1
S31520000280000000000EA0034000A003405FF80C50C1
S315200002905FF80C604CF220584DF628194FF0020AF0
S313200002A0A5F80080A5F80090A6F800A000BEE4
S70520000000DA
¼V